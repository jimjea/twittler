<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>
    <script>


      //???????************@$!@$!@$!@$@!$!@#!@#!@$!$@
      //QUESTION FOR JANAS
      //When asked to display new tweets, when we hit the button every second, should we only expect to see 1 tweet added to the bottom? I'm currently getting a list. And it's difficult to find a pattern of whether it's just the old 10 + 1 bc the pattern changes.

      $(document).ready(function(){
        //deleted the $body.html('') to stop clearing out the html

        //timestamp formating function
        function formatTime(date) {
          var hours = date.getHours();
          var minutes = date.getMinutes();
          var ampm = hours >= 12 ? 'pm' : 'am';
          hours = hours % 12;
          hours = hours ? hours : 12;
          minutes = minutes < 10 ? '0'+minutes : minutes;
          var time = hours + ':' + minutes + ' ' + ampm;
          return time;
        }

        //function for showing tweets, added feature to remove old tweets
        //need to change this to only display new tweets, not old + new tweets
        function showTweets () { 
          var index = 0;
          while(index < streams.home.length){
            var tweet = streams.home[index];
            var $tweet = $('<div></div>');
            $tweet.text('@' + tweet.user + ': ' + tweet.message + " (" + formatTime(tweet.created_at) + ")");
            $tweet.appendTo($('body'));
            index += 1;
          };
        };

        //function that displays new tweets on click
        $(".tweet-button").on("click", function () {
          showTweets();
        });

      });

    </script>
    <button class="tweet-button">New Tweets</button>
  </body>
</html>
